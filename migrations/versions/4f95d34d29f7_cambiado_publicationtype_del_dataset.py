"""cambiado publicationtype del dataset

Revision ID: 4f95d34d29f7
Revises: 1e2ca7723141
Create Date: 2025-11-15 16:05:33.587888

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql

# revision identifiers, used by Alembic.
revision = '4f95d34d29f7'
down_revision = '1e2ca7723141'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    new_publication_type = sa.Enum('NONE', 'OTHER', 'COMPETITIVE', 'CASUAL', 'HISTORY_MODE', 'OFFICIAL_TOURNAMENT', name='publicationtype')
    old_publication_type = sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype')

    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:
        batch_op.alter_column('publication_type',
               existing_type=old_publication_type,
               type_=new_publication_type,
               nullable=False)

    with op.batch_alter_table('fm_meta_data', schema=None) as batch_op:
        batch_op.alter_column('publication_type',
               existing_type=old_publication_type,
               type_=new_publication_type,
               nullable=False)
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    new_publication_type = sa.Enum('NONE', 'OTHER', 'COMPETITIVE', 'CASUAL', 'HISTORY_MODE', 'OFFICIAL_TOURNAMENT', name='publicationtype')
    old_publication_type = sa.Enum('NONE', 'ANNOTATION_COLLECTION', 'BOOK', 'BOOK_SECTION', 'CONFERENCE_PAPER', 'DATA_MANAGEMENT_PLAN', 'JOURNAL_ARTICLE', 'PATENT', 'PREPRINT', 'PROJECT_DELIVERABLE', 'PROJECT_MILESTONE', 'PROPOSAL', 'REPORT', 'SOFTWARE_DOCUMENTATION', 'TAXONOMIC_TREATMENT', 'TECHNICAL_NOTE', 'THESIS', 'WORKING_PAPER', 'OTHER', name='publicationtype')

    with op.batch_alter_table('ds_meta_data', schema=None) as batch_op:
        batch_op.alter_column('publication_type',
               existing_type=new_publication_type,
               type_=old_publication_type,
               nullable=False)

    with op.batch_alter_table('fm_meta_data', schema=None) as batch_op:
        batch_op.alter_column('publication_type',
               existing_type=new_publication_type,
               type_=old_publication_type,
               nullable=False)
    # ### end Alembic commands ###
